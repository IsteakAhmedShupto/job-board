<div class="candidate-detail-not-loggedin" *ngIf="resultObj.length == 0">
  <div>
    You need to login first to view this page. You login session may have been
    expired.
  </div>
  <a
    class="candidate-detail-link"
    mat-stroked-button
    color="primary"
    routerLink="/login"
  >
    Login</a
  >
</div>

<form
  class="candidate-form-container"
  *ngIf="resultObj && resultObj.length > 0 && resultObj[0].count == 0"
  [formGroup]="formGroup"
  (ngSubmit)="onSubmit()"
>
  <h1>
    <mat-icon>edit</mat-icon>
    Create your candidate account
  </h1>

  <mat-card>
    <mat-card-content>
      <div class="candidate-form">
        <mat-form-field>
          <mat-label>Username</mat-label>
          <input
            matInput
            placeholder="Enter the username you used to log in"
            formControlName="user"
          />
        </mat-form-field>
        <mat-form-field>
          <mat-label>First name</mat-label>
          <input
            matInput
            placeholder="Enter your name"
            formControlName="first_name"
          />
        </mat-form-field>
        <mat-form-field>
          <mat-label>Last name</mat-label>
          <input
            matInput
            placeholder="Enter your name"
            formControlName="last_name"
          />
        </mat-form-field>
        <mat-form-field>
          <mat-label>Email</mat-label>
          <input
            type="email"
            matInput
            placeholder="Enter your email here"
            formControlName="email"
          />
        </mat-form-field>
        <mat-form-field>
          <mat-label>About</mat-label>
          <textarea
            matInput
            placeholder="Describe your company/startup in details"
            formControlName="about"
          ></textarea>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Portfolio url</mat-label>
          <input
            matInput
            placeholder="Enter your portfolio url"
            formControlName="portfolio"
          />
        </mat-form-field>
        <mat-form-field>
          <mat-label>Github url</mat-label>
          <input
            matInput
            placeholder="Enter your github url"
            formControlName="github"
          />
        </mat-form-field>
        <mat-form-field>
          <mat-label>Linkedin url</mat-label>
          <input
            matInput
            placeholder="Enter your linkedin url"
            formControlName="linkedin"
          />
        </mat-form-field>
        <mat-form-field>
          <mat-label>X url</mat-label>
          <input matInput placeholder="Enter your x url" formControlName="x" />
        </mat-form-field>
        <mat-form-field>
          <mat-label>Hashnode url</mat-label>
          <input
            matInput
            placeholder="Enter your hashnode url"
            formControlName="hashnode"
          />
        </mat-form-field>
        <mat-form-field>
          <mat-label>Devto url</mat-label>
          <input
            matInput
            placeholder="Enter your devto url"
            formControlName="devto"
          />
        </mat-form-field>
        <button
          class="candidate-form-submitbtn"
          mat-raised-button
          color="primary"
          [type]="'submit'"
        >
          Submit
        </button>
      </div>
    </mat-card-content>
  </mat-card>
</form>

<div class="candidate-details" *ngIf="foundObj == true">
  <form class="candidate-form-container">
    <h1>
      <mat-icon>edit</mat-icon>
      Your candidate account details
    </h1>
    <a
      class="candidate-details-submitbtn"
      mat-raised-button
      color="primary"
      [type]="'submit'"
      routerLink="/candidate/edit"
    >
      Edit data <mat-icon>edit</mat-icon>
    </a>
    <div class="candidate-details-container">
      <mat-card *ngIf="resultObj[0].user.length > 0">
        <mat-card-content>
          <p>Username</p>
          <p>{{ resultObj[0].user }}</p>
        </mat-card-content>
      </mat-card>
      <mat-card *ngIf="resultObj[0].first_name.length > 0">
        <mat-card-content>
          <p>First name</p>
          <p>{{ resultObj[0].first_name }}</p>
        </mat-card-content>
      </mat-card>
      <mat-card *ngIf="resultObj[0].last_name.length > 0">
        <mat-card-content>
          <p>Last name</p>
          <p>{{ resultObj[0].last_name }}</p>
        </mat-card-content>
      </mat-card>
      <mat-card *ngIf="resultObj[0].email.length > 0">
        <mat-card-content>
          <p>Email</p>
          <p>{{ resultObj[0].email }}</p>
        </mat-card-content>
      </mat-card>
      <mat-card *ngIf="resultObj[0].about.length > 0">
        <mat-card-content>
          <p>About</p>
          <p>{{ resultObj[0].about }}</p>
        </mat-card-content>
      </mat-card>
      <mat-card *ngIf="resultObj[0].portfolio.length > 0">
        <mat-card-content>
          <p>Portfolio</p>
          <p>{{ resultObj[0].portfolio }}</p>
        </mat-card-content>
      </mat-card>
      <mat-card *ngIf="resultObj[0].github.length > 0">
        <mat-card-content>
          <p>Github</p>
          <p>{{ resultObj[0].github }}</p>
        </mat-card-content>
      </mat-card>
      <mat-card *ngIf="resultObj[0].linkedin.length > 0">
        <mat-card-content>
          <p>Linkedin</p>
          <p>{{ resultObj[0].linkedin }}</p>
        </mat-card-content>
      </mat-card>
      <mat-card *ngIf="resultObj[0].x.length > 0">
        <mat-card-content>
          <p>X</p>
          <p>{{ resultObj[0].x }}</p>
        </mat-card-content>
      </mat-card>
      <mat-card *ngIf="resultObj[0].hashnode.length > 0">
        <mat-card-content>
          <p>Hashnode</p>
          <p>{{ resultObj[0].hashnode }}</p>
        </mat-card-content>
      </mat-card>
      <mat-card *ngIf="resultObj[0].devto.length > 0">
        <mat-card-content>
          <p>Devto</p>
          <p>{{ resultObj[0].devto }}</p>
        </mat-card-content>
      </mat-card>
    </div>
  </form>
</div>
